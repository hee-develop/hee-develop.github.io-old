---
title: HTTP 응답 상태 코드란
date: '2021-07-23'
description: 상태 코드의 존재 의의를 이해하고 올바른 사용법을 익혀 보고자 합니다.
thumbnail: './images/http-status-code.jpg'
keywords: 
---

세상 거의 모든 일이 다 그렇듯이, 데이터를 주고받는 웹에서도 정해진 약속이 있습니다. 인터넷에서 사용되는 HTTP는 요청에 대한 응답에 상태 코드를 넣어서 전송하게 되는데요, 요청자는 상태 코드에 따라 서버가 어떤 결과물을 보내줬는지 이해할 수 있게 됩니다.

## 상태 코드의 존재 이유

클라이언트는 서버의 상태를 알 수 없습니다. 그저 요청을 보내고, 그에 대한 대답을 듣는 게 전부입니다. 때문에 서버에 무슨 일이 일어났는지 알기 위해서는 서버가 지금 어떤 상태인지를 나타내는 표시를 보내주어야 합니다. 그리고 이 표시는 서버마다 다르면 클라이언트 역시 그에 맞게 예외처리를 해야 하기 때문에 복잡한 처리를 추가하는 등 비효율적인 작업이 되므로, HTTP는 **상태 코드**라는 표준화된 표식을 두어 결과에 대한 처리를 쉽게 할 수 있도록 하고 있습니다.

## 상태 코드의 종류와 구별해서 써야 하는 이유

HTTP 상태 코드는 세 자리 숫자로 구성되며, 백의 자리의 숫자는 응답 상태 코드의 클래스를 구분하기 위해 사용됩니다. 클래스는 `1, 2, 3, 4, 5` 5개의 클래스로 구분되지만 [1은 실질적으로 사용되지 않아](https://ko.wikipedia.org/wiki/HTTP_상태_코드#1xx_(조건부_응답)). 보통 2, 3, 4, 5의 코드를 많이 보게 됩니다.

이러한 코드를 구별해서 써야 하는 이유는, 해당 코드에 따라 요청자가 어떤 행동을 할지가 정해져 있기 때문입니다. 예를 들어, 서버 개발자의 실수로 모든 요청에 대해 `400 Bad Request`를 반환해 버린다고 가정해 보겠습니다. 브라우저는 정상적인 요청을 했기 때문에 `200 OK`가 돌아올 것을 예상했는데, 정작 서버에서 `400 Bad Request`가 돌아오게 되면 브라우저는 무언가 요청에 문제가 있다고 판단하고 에러를 표시하게 됩니다. 즉 정상적인 요청을 했음에도 불구하고 화면이 제대로 표시되지 않을 수 있습니다.

실제로 재직 중인 회사의 서버가 `200 OK`가 아닌 `206 Partial Content`를 반환해서, 정상적으로 통신을 했음에도 제대로 표시가 되지 않은 경우가 있었습니다.

이렇듯 올바른 상태 코드를 사용하는 것은 중요한 일이며, 서로 간의 약속이기 때문에 반드시 지켜서 사용하여야만 합니다.


## 2XX : 작업이 성공됨

2XX 클래스는 클라이언트가 요청한 동작이 성공적으로 처리되었음을 의미합니다. 보통 브라우저의 개발자 도구 등에서 제대로 처리되었음을 알리기 위해 초록색으로 표시하는 경우가 많습니다.

#### 200 OK
요청이 성공하였음을 의미합니다. 가장 일반적인 코드입니다.

#### 201 Created
요청에 따라 어떠한 새로운 데이터가 작성되었음을 의미합니다. POST 같은 메소드에 대한 응답 코드로 적합합니다.

#### 202 Accepted
요청을 성공적으로 받았음을 의미합니다.  
200번은 처리가 끝난 뒤 반환하는 상태 코드이며, 202번은 **요청은 받았지만, 아직 처리는 완료되지 않았음**을 의미한다는 차이점이 있습니다.

#### 204 No Content
요청과 처리가 성공적으로 수행되었지만, 반환할 값이 없음을 알리는 코드입니다.

#### 206 Partial Content
결괏값의 일부분이라는 의미로, 동영상 등 큰 크기의 데이터를 분할해서 보낼 때 사용합니다.


## 3XX : 경로가 변경됨
3XX 클래스는 요청에 대한 리소스의 경로가 변경되었음을 의미합니다. 때문에 변경된 경로를 필수적으로 표기해야 합니다. 경로는 헤더의 `Location`에 담아 보낼 수 있습니다.

#### 301 Moved Permanetly
요청된 리소스의 경로가 영구적으로 이동되었음을 의미합니다. 예를 들어, 서버가 HTTPS만 통신하도록 설정이 되어 있어서, HTTP로 요청을 보냈을 때 HTTPS로 재접속하도록 재요청하는 경우 등이 있습니다. 클라이언트는 `301` 코드를 받으면 이동된 경로로 다시 요청을 보냅니다.

#### 304 Not Modified
마지막 요청 이후 리소스에 변화가 없음을 의미합니다. 어차피 보내봐야 이전과 같은 데이터이므로, 클라이언트가 보관하고 있는 캐시에 접근하라는 의미라고 볼 수 있겠습니다. '로컬 캐시'로 다시 요청하게 되므로 경로가 변경된 것과 같은 의미를 가집니다.


## 4XX : 클라이언트의 잘못된 요청
4XX 클래스는 요청에 무언가 문제가 있음을 의미합니다. 이는 클라이언트측 문제이므로, 사용자에게 문제가 발생했음을 알려야 합니다.

#### 400 Bad Request
요청 자체가 잘못되었음을 의미합니다. 잘못된 값을 전달했거나, 요청 자체에 무언가 문제가 있을 경우의 코드입니다.

#### 401 Unauthorized
클라이언트가 아직 인증되지 않았음을 의미합니다. 즉 로그인을 해 달라는 의미입니다. 이름은 미승인(unauthorized)이지만 403과의 차이가 모호하므로, 미인증(unauthenticated)으로 기억해 두는 편이 좋습니다.

#### 403 Forbidden
요청에 대해 클라이언트가 접근 권한이 없으므로 보여줄 수 없음을 의미합니다. 로그인은 되어 있지만(서버가 클라이언트가 누구인지 식별하고 있음) 권한이 없다는 의미로, 401과 조금 차이가 있습니다.

#### 404 Not Found
자주 볼 수 있는 상태 코드로, 서버가 해당 요청에 대한 리소스를 찾을 수 없음을 의미합니다.


## 5XX : 서버의 잘못된 응답
5XX 클래스는 요청과 관계 없이, 서버에 무언가 문제가 있음을 의미합니다. 서버가 다운됐거나 과부하 상태일 때 등등이 이 코드에 해당합니다.

#### 500 Internal Server Error
서버에서 처리할 수 없는 요청이 와서 처리가 불가능했음을 의미합니다. 400번과의 차이점은 400번은 잘못된 값 등으로 요청했을 때 발생하지만, 500번은 잘못된 값으로 인해 서버 내부 처리에 문제가 생겼을 경우 발생합니다. 예를 들어, string타입의 값을 받아 숫자로 변환하는 처리에서 'abc'와 같은 값이 들어 와, 숫자로 변환이 불가능해 서버가 에러를 내는 경우가 있습니다.

#### 502 Bad Gateway
리버스 프록시와 같은 서버에서, 내부 서버(애플리케이션 서버)로부터 잘못된 응답을 수신했음을 의미합니다. 쉽게 말하면 서버가 다운되어 응답하지 않을 경우 발생합니다.

#### 503 Service Temporarily Unavailable
서비스를 '일시적으로' 사용할 수 없음을 의미합니다. 502와 달리 서버가 아직 살아는 있으나 어떠한 이유로 제대로 요청을 처리할 수 없을 경우 발생합니다. 주로 서버에 부하가 걸렸을 때 사용됩니다.

#### 504 Gateway Timeout
리버스 프록시와 같은 서버에서, 주어진 시간 내에 내부 서버(애플리케이션 서버)의 응답을 받지 못했음을 의미합니다.
